
@startuml

'====== Users and Project Structure ======

class User {
  +id: UUID
  +username: String
  +email: String
  +tokenBalance: int
}

class Project {
  +id: UUID
  +title: String
  +description: String
  +createdAt: Date
}

class Chapter {
  +id: UUID
  +title: String
  +content: Text
  +order: int
}

User "1" --> "0..*" Project
Project "1" --> "1..*" Chapter

'====== AI Features ======

class ImagePrompt {
  +id: UUID
  +selectedText: String
  +imagePath: String
}

class AudioVersion {
  +id: UUID
  +audioFilePath: String
  +voiceType: String
}

class Summary {
  +id: UUID
  +text: Text
  +generatedAt: Date
}

Chapter "1" --> "0..*" ImagePrompt
Chapter "1" --> "0..*" AudioVersion
Chapter "1" --> "0..*" Summary

'====== Token System ======

class PaymentTransaction {
  +id: UUID
  +amount: float
  +tokenAmount: int
  +date: Date
  +paymentStatus: String
}

class TokenUsageLog {
  +id: UUID
  +tokensUsed: int
  +operationType: String
  +timestamp: Date
}

User "1" --> "0..*" PaymentTransaction
User "1" --> "0..*" TokenUsageLog
TokenUsageLog --> Chapter

@enduml
